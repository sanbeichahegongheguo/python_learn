


### 从包含d个项的数据集里提取的可能规则总数

在《数据挖掘导论（完整版）》一书中的第6章讲到了关联分析，并在6.1问题定义中提到了关联规则。 

其中第203页中直接给出了公式（6-3）：从包含d个项的数据集提取的可能规则总数为$R=3^d−2^{d+1}+1$，并要求自己证明，同时也是第251页的习题5。

该公式的证明过程用到了排列组合的知识，现在把我的证明过程和大家分享一下。

##### 证明：

对于关联规则 X→Y ( 其中X∩Y=∅)，X$\cup$Y包含的项的个数可以为2，3，…，d。

假设X$\cup$Y包含的项的个数为k，则计算此情况下可能规则数，须先从d个项中抽取k个项，即$C^k_d$；再对选出的k个项选取m(m=1,2,3,…,k-1)个项作为规则的左部X，剩余k-m个项作为规则的右部Y，这个的选法的种类数共有$C^1_k+C^2_k+C^3_k+⋯+C^{k−1}_k$，即$\sum^{k−1}_{m=1}C^m_k$。

下面来求$\sum^{k−1}_{m=1}C^m_k​$的值。首先我们知道$\sum^k_{m=0}C^m_k=(1+1)^k=2k​$（二项式展开式定理），

则
$$
\sum^{k−1}_{m=1}C^m_k=\sum^k_{m=0}C^m_k−C^0_k−C^k_k=2k−2.
$$





因此，对于X$\cup$Y包含的项的个数为k时，可能的规则数为$C^k_d\times(2k−2)$。

由此可得，

当X$\cup$Y包含的项的个数为2时，可能的规则数为$R_2=C^2_d\timesC^1_2=C^2_d\times(2^2−2)$；

当X$\cup$Y包含的项的个数为3时，可能的规则数为$R_3=C^3_d\times(C^1_3+C^2_3)=C^3_d\times(2^3−2)$；

当X$\cup$Y包含的项的个数为4时，可能的规则数为$R_4=C^4_d\times(C^1_4+C^2_4+C^3_4)=C^4_d\times(2^4−2)$；

……

当X$\cup$Y包含的项的个数为d时，可能的规则数为$R_d=C^d_d\times(C^1_d+C^2_d+C^3_d+⋯+C^{d-1}_d)=C^d_d\times(2^d−2)$。

将上面的可能规则数加起来即可得到可能的规则总数，为
$$
R=R_2+R_3+R_4+⋯+R_d\\
=C^2_d\times(2^2−2)+C^3_d\times(2^3−2)+C^4_d\times(2^4−2)+⋯+C^d_d\times(2^d−2)\\
=\sum_{k=2}^dC^k_d(2^k−2)\\
=\sum_{k=2}^dC^k_d\times2^k−2\sum_{k=2}^dC^k_d,
$$
又
$$
\sum^d_{k=2}C^k_d2^k=\sum^d_{k=0}C^k_d\times2^k−C^0_d\times2^0−C^1_d\times2^1,
$$

$$
\sum^d_{k=2}C^k_d=\sum^d_{k=0}C^k_d−C^0_d−C^1_d=2^d−1−d,
$$
我们知道
$$
\sum^d_{k=0}C^k_d2^k=(2+1)^d=3^d,
$$
则
$$
\sum^d_{k=2}C^k_d2^k=3^d−1−2d
$$

因此，

$$
R=\sum_{k=2}^dC^k_d2^k−\sum_{k=2}^dC^k_d=(3^d−1−2d)−2(2^d−1−d)=3^d−2^{d+1}+1
$$



至此，证明得到了正确的结果。

作者：micro小宝

来源：CSDN 

原文：https://blog.csdn.net/wxbmelisky/article/details/48268833 

版权声明：本文为博主原创文章，转载请附上博文链接！